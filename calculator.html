<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kalkulator PK AC - CV. Jala Mas Persada</title>
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@500;700&family=Poppins:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    
    <!-- Icons & CSS -->
    <link href="https://cdn.jsdelivr.net/npm/remixicon@3.5.0/fonts/remixicon.css" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        brand: {
                            dark: '#1a3682',
                            primary: '#2563eb',
                            light: '#e0f2fe',
                            accent: '#0ea5e9',
                        },
                        digital: '#00b4d8',
                    },
                    fontFamily: {
                        sans: ['Poppins', 'sans-serif'],
                        digital: ['Orbitron', 'sans-serif'],
                    },
                    animation: {
                        'blink-3': 'blink 1s ease-in-out 3', // Custom animation: blink 3 times
                    },
                    keyframes: {
                        blink: {
                            '0%, 100%': { opacity: '1', color: '#dc2626' }, // Red
                            '50%': { opacity: '0.2', color: '#ef4444' },
                        }
                    }
                }
            }
        }
    </script>
</head>
<body class="bg-gray-50 text-gray-800 font-sans">

    <!-- Navbar -->
    <header class="bg-white shadow-sm fixed w-full top-0 z-50">
        <div class="container mx-auto px-6 h-20 flex justify-between items-center">
            <a href="index.html" class="flex items-center gap-3">
                <!-- NEW LOGO IMPLEMENTATION (Logo Only) -->
                <img src="JMP NEW LONG 650.png" alt="Logo CV Jala Mas Persada" class="h-16 w-auto object-contain">
            </a>
            <a href="index.html" class="text-gray-500 hover:text-brand-primary text-sm font-medium">Kembali ke Beranda</a>
        </div>
    </header>

    <div class="pt-32 pb-20 px-6">
        <div class="container mx-auto max-w-lg">
            
            <div class="bg-white rounded-3xl shadow-xl border border-gray-100 overflow-hidden relative">
                
                <!-- WATERMARK LOGO REMOVED -->

                <div class="bg-brand-dark p-8 text-center relative overflow-hidden z-10">
                    <div class="absolute inset-0 bg-brand-primary opacity-20 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGNpcmNsZSBjeD0iMSIgY3k9IjEiIHI9IjEiIGZpbGw9IiNmZmZmZmYiIGZpbGwtb3BhY2l0eT0iMC4yIi8+PC9zdmc+')]"></div>
                    <h1 class="text-2xl font-bold text-white relative z-10">Kalkulator Kapasitas AC</h1>
                    <p class="text-blue-200 text-sm mt-2 relative z-10">Hitung PK yang tepat agar ruangan dingin maksimal.</p>
                </div>

                <div class="p-8 space-y-6 relative z-10">
                    <!-- Form -->
                    <form id="pkForm" class="space-y-4">
                        <!-- Grid 2 Columns -->
                        <div class="grid grid-cols-2 gap-4">
                            <div>
                                <label class="block text-xs font-bold text-gray-500 uppercase mb-1">Panjang (m)</label>
                                <input type="number" id="length" step="0.1" class="w-full p-3 bg-gray-50/80 backdrop-blur-sm border border-gray-200 rounded-lg focus:border-brand-primary focus:ring-1 focus:ring-brand-primary outline-none transition text-center font-bold" placeholder="0">
                            </div>
                            <div>
                                <label class="block text-xs font-bold text-gray-500 uppercase mb-1">Lebar (m)</label>
                                <input type="number" id="width" step="0.1" class="w-full p-3 bg-gray-50/80 backdrop-blur-sm border border-gray-200 rounded-lg focus:border-brand-primary focus:ring-1 focus:ring-brand-primary outline-none transition text-center font-bold" placeholder="0">
                            </div>
                        </div>

                        <div>
                            <label class="block text-xs font-bold text-gray-500 uppercase mb-1">Fungsi Ruangan</label>
                            <div class="relative">
                                <select id="roomType" class="w-full p-3 bg-gray-50/80 backdrop-blur-sm border border-gray-200 rounded-lg focus:border-brand-primary focus:ring-1 focus:ring-brand-primary outline-none transition appearance-none cursor-pointer">
                                    <option value="500">Kamar Tidur (Bed Room)</option>
                                    <option value="600">Ruang Tamu (Sitting Room)</option>
                                    <option value="500">Ruang Kantor (Office)</option>
                                    <option value="600">Ruang Rapat (Meeting Room)</option>
                                </select>
                                <div class="absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none text-gray-400">
                                    <i class="ri-arrow-down-s-line"></i>
                                </div>
                            </div>
                        </div>

                        <button type="button" onclick="calculatePK()" class="w-full py-4 bg-brand-primary text-white font-bold rounded-xl shadow-lg hover:bg-brand-dark transition transform active:scale-95 flex justify-center items-center gap-2 mt-4">
                            <i class="ri-calculator-line"></i> HITUNG SEKARANG
                        </button>
                    </form>

                    <!-- Result Display -->
                    <div id="resultContainer" class="hidden mt-8 text-center animate-fade-in-up">
                        <p class="text-sm text-gray-500 mb-2 font-medium">Kebutuhan Pendingin Ruangan Anda:</p>
                        
                        <!-- Digital Display Container -->
                        <div class="bg-gray-900 rounded-2xl p-6 border-4 border-gray-800 shadow-inner relative">
                            <!-- Glossy Reflection -->
                            <div class="absolute top-0 left-0 right-0 h-1/2 bg-gradient-to-b from-white/10 to-transparent rounded-t-xl pointer-events-none"></div>
                            
                            <div id="resultValue" class="font-digital text-4xl md:text-5xl text-digital drop-shadow-[0_0_10px_rgba(0,180,216,0.8)] tracking-widest">
                                0.00 PK
                            </div>
                            <div class="text-gray-500 text-xs mt-2 font-mono">CALCULATED CAPACITY</div>
                        </div>

                        <!-- Recommendation & Disclaimer -->
                        <div id="recommendation" class="mt-4 p-4 bg-blue-50/95 backdrop-blur text-brand-dark rounded-xl border border-blue-100 text-sm transition-all duration-300">
                            <!-- Filled by JS -->
                        </div>
                        
                        <a href="index.html#products" class="inline-block mt-6 text-brand-primary font-bold hover:underline">
                            Cari Produk Sesuai Hasil &rarr;
                        </a>
                    </div>
                </div>
            </div>

            <div class="text-center mt-8 text-gray-400 text-xs">
                &copy; CV. Jala Mas Persada - Official Calculator
            </div>
        </div>
    </div>

    <script>
        function calculatePK() {
            // Get inputs
            const lengthInput = document.getElementById('length');
            const widthInput = document.getElementById('width');
            const roomTypeInput = document.getElementById('roomType');

            if (!lengthInput || !widthInput || !roomTypeInput) {
                console.error("Inputs not found");
                return;
            }

            const length = parseFloat(lengthInput.value);
            const width = parseFloat(widthInput.value);
            const btuRate = parseInt(roomTypeInput.value);

            // Validation
            if (isNaN(length) || isNaN(width)) {
                alert("Mohon isi semua dimensi ruangan (Panjang dan Lebar)");
                return;
            }

            // Calculation: ((L x W) * BTU) / 9000
            const area = length * width;
            const totalBTU = area * btuRate;
            const pkResult = totalBTU / 9000;

            // Display Result
            const resultContainer = document.getElementById('resultContainer');
            const resultValue = document.getElementById('resultValue');
            
            if (resultContainer && resultValue) {
                resultContainer.classList.remove('hidden');
                
                // Animation for numbers
                let start = 0;
                const duration = 1000;
                const startTime = performance.now();

                function animate(currentTime) {
                    const elapsed = currentTime - startTime;
                    const progress = Math.min(elapsed / duration, 1);
                    const ease = 1 - Math.pow(1 - progress, 4);
                    
                    const currentVal = start + (pkResult - start) * ease;
                    resultValue.innerText = currentVal.toFixed(2) + " PK";

                    if (progress < 1) {
                        requestAnimationFrame(animate);
                    } else {
                        // Pass Area to recommendation logic
                        showRecommendation(pkResult, area);
                    }
                }
                requestAnimationFrame(animate);
            }
        }

        function showRecommendation(val, area) {
            const recBox = document.getElementById('recommendation');
            if (!recBox) return;

            let suggested = "";
            let suggestedClass = "text-lg text-brand-primary"; // Default Style

            // Range Logic Based on Area (m2)
            if (area <= 10) {
                suggested = "1/2 PK";
            } else if (area <= 15) {
                suggested = "3/4 - 1 PK";     // 11 to 15 m2
            } else if (area <= 20) {
                suggested = "1 - 1,5 PK";     // 16 to 20 m2
            } else if (area <= 30) {
                suggested = "1,5 - 2 PK";     // 21 to 30 m2
            } else if (area <= 40) {
                suggested = "2 - 2,5 PK";     // 31 to 40 m2
            } else if (area <= 50) {
                suggested = "2,5 - 3 PK";     // 41 to 50 m2
            } else if (area <= 60) {
                suggested = "3 - 3,5 PK";     // 51 to 60 m2
            } else {
                // Logic for > 60 m2
                suggested = "Konsultasi (Lebih dari 3,5 PK)";
                suggestedClass = "text-lg font-bold text-red-600 animate-blink-3"; // Blinking Red Text
            }

            // WhatsApp Button Integration - Now appears for ALL results
            const whatsappButton = `
                <div class="mt-4 animate-fade-in-up">
                    <a href="https://wa.me/6281215000537?text=Halo,%20saya%20ingin%20konsultasi%20AC%20untuk%20ruangan%20(area%20${area}m2)" target="_blank" class="inline-flex items-center justify-center gap-2 px-6 py-3 bg-green-500 hover:bg-green-600 text-white font-bold rounded-full shadow-lg transition transform hover:-translate-y-1">
                        <i class="ri-whatsapp-fill text-2xl"></i>
                        Chat WhatsApp: 0812-1500-0537
                    </a>
                </div>
            `;

            recBox.innerHTML = `
                Disarankan menggunakan unit AC: <br><strong class="${suggestedClass}">${suggested}</strong>
                ${whatsappButton}
                <p class="text-red-600 text-xs mt-3 font-bold italic">
                    "Untuk perhitungan PK yang presisi harus dilakukan survei dan kunjungan. Terutama ruangan untuk peruntukan dan kondisi khusus"
                </p>
            `;
        }
    </script>
</body>
</html>